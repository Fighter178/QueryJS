(()=>{let loadStart=new Date,QjObj=Object;QjObj.freeze(QjObj);let qjVars={local:{}},noIdError=e=>{throw Error(`QueryJS | Element (${e}) must have an id. Add id=[id] to fix this.`)};class Observable{constructor(){this._callbacks=[]}get value(){return this._value}set value(e){this._value=e,this._callbacks.forEach(e=>e())}subscribe(e){this._callbacks.push(e)}}document.querySelectorAll("*").forEach(e=>{let t=e.dataset,r=t.bind;if(t.qjTemplate||t.qjTemplateText,r){e.id||noIdError(e);let l=document.querySelector(`#${e.id}`);qjVars[r]={value:l.value,onChange(e){}},e.addEventListener("input",e=>{qjVars[r].onChange(l.value)})}}),(()=>{let e=document.querySelectorAll("[data-template]");e.forEach(e=>{let t=e.textContent,r="",l=0,a=[],n=t.indexOf("{",l);for(;-1!==n;){let i=t.indexOf("}",n);a.push({open:n,close:i}),l=i,n=t.indexOf("{",l)}l=0,a.forEach(e=>{r+=t.slice(l,e.open);let a=t.slice(e.open+1,e.close);r+=Function(`return ${a}`).call(window),l=e.close+1}),r+=t.slice(l),e.textContent=r})})();let config={fixEval:!0,allTemplate:!0};document.addEventListener("DOMContentLoaded",()=>{config.fixEval&&(globalThis.eval=e=>{Function(`()=>{${e}}`)()})});let Qj=e=>{if("object"!=typeof e)return document.querySelector(e);QjObj.assign(config,e)};globalThis.QjConfig=config,globalThis.$=Qj,globalThis.Qj=Qj,Qj.vars=qjVars,Qj.render=e=>{let t=document.querySelector(`#${e}`),r=t.innerText,l=/(?<!\\)\{(.*?)(?<!\\)\}/g;t.innerText=r.replace(l,(e,t)=>Function(`return ${t}`)()).replace(/\\\{/g,"{")},Qj.vars.local.update={},Qj.update=(id,js,options={})=>{let e=document.getElementById(id);eval(js),Qj.render(id)},Qj.proxy=(e,t,r=!0)=>{let l=["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield"],a=e.replace(/(var|let|const)\s+\b([a-zA-Z_$][a-zA-Z_$0-9]*)\b/g,function(e,r,a){return t.hasOwnProperty(a)||l.includes(a)?e:(t[a]=a,`${r} ${t}.${a}`)}),n=(e,t)=>{let r=e.search(t),l=e;for(let a=0;a<r;a++)l=l.replace("let","");return l};return a=n(a,"let"),a=n(a,"const"),a=n(a,"var")},Qj.reactive=(e,t,r)=>{if(!r)throw Error("QueryJS | Property argument must be defined in Qj.reactive/Qj.$");return new Proxy({},{get:(t,r)=>e})},Qj.$=Qj.reactive,Qj.props=e=>{for(var t=[];null!=e;e=Object.getPrototypeOf(e))for(var r=Object.getOwnPropertyNames(e),l=0;l<r.length;l++)-1==t.indexOf(r[l])&&t.push(r[l]);return t},Qj.alias=(e,t)=>{let r=Qj.props(Qj);if(t in r)throw Error(`QueryJS | Alias (${t}) reserved.`);Qj[t]=e},Qj.props(Qj).forEach(e=>{try{QjObj.freeze(Qj[e])}catch(t){}});let finalLoad=new Date;document.dispatchEvent(new CustomEvent("QjLoad",{bubbles:!0,cancelable:!1,detail:{timestamp:finalLoad,loadDuration:loadStart.getMilliseconds()-finalLoad.getMilliseconds(),Qj:Qj}}))})();